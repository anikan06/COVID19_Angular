<div class="container-fluid cluster-container w-100 px-0">
  <ngx-spinner></ngx-spinner>
  <div class="row mx-auto w-100 my-3">
    <div class="col-12 col-md-8">
      <span class="hTxt">District Wise Tracker</span>
    </div>
    <div class="col-12 col-md-4 py-3">
      <span class="luD text-success"> Last reported at {{lastUpdatedTime}}</span>
    </div>
  </div>

  <div class="row mx-auto w-100 my-2">
    <div class="col-12 col-md-3 px-1 py-2">
      <div class="card text-center w-100">
        <div class="card-body bg-info p-2">
          <div class="row mx-auto">
            <div class="col-3 border-right py-4">
              <i class="fa fa-users fa-2x text-light"></i><br />
            </div>
            <div class="col-9">
              <div class="row mx-auto d-flex justify-content-center border-bottom">
                <div class="col-12 smBgT">
                  Confirmed
                </div>
                <div class="col-12 smTxt">
                  {{totalConfirmed}}
                </div>
              </div>
              <div class="row mx-auto d-flex justify-content-center">
                <div class="col-12 smBgTc">
                  Today's
                </div>
                <div class="col-12 smTxtm">
                  +{{todayConfirm}}
                </div>
              </div>
            </div>
          </div>
        </div>



      </div>
    </div>
    <div class="col-12 col-md-3 px-1 py-2">
      <div class="card text-center w-100">
        <div class="card-body bg-warning p-2">
          <div class="row mx-auto">
            <div class="col-3 border-right py-4">
              <i class="fa fa-user-md fa-2x text-light"></i><br />
            </div>
            <div class="col-9">
              <div class="row mx-auto d-flex justify-content-center border-bottom">
                <div class="col-12 smBgT">
                  Active
                </div>
                <div class="col-12 smTxt">
                  {{totalActive}}
                </div>
              </div>
              <div class="row mx-auto d-flex justify-content-center">
                <div class="col-12 smBgTc">
                  Today's
                </div>
                <div class="col-12 smTxtm">
                  +{{todayActive}}
                </div>
              </div>
            </div>
          </div>
        </div>



      </div>
    </div>
    <div class="col-12 col-md-3 px-1 py-2">
      <div class="card text-center w-100">
        <div class="card-body bg-success p-2">
          <div class="row mx-auto">
            <div class="col-3 border-right py-4">
              <i class="fa fa-user-o fa-2x text-light"></i><br />
            </div>
            <div class="col-9">
              <div class="row mx-auto d-flex justify-content-center border-bottom">
                <div class="col-12 smBgT">
                  Recovered
                </div>
                <div class="col-12 smTxt">
                  {{totalRecovered}}
                </div>
              </div>
              <div class="row mx-auto d-flex justify-content-center">
                <div class="col-12 smBgTc">
                  Today's
                </div>
                <div class="col-12 smTxtm">
                  +{{todayRecover}}
                </div>
              </div>
            </div>
          </div>
        </div>



      </div>
    </div>
    <div class="col-12 col-md-3 px-1 py-2">
      <div class="card text-center w-100">
        <div class="card-body bg-danger p-2">
          <div class="row mx-auto">
            <div class="col-3 border-right py-4">
              <i class="fa fa-user-times fa-2x text-light"></i><br />
            </div>
            <div class="col-9">
              <div class="row mx-auto d-flex justify-content-center border-bottom">
                <div class="col-12 smBgT">
                  Death
                </div>
                <div class="col-12 smTxt">
                  {{totalDeath}}
                </div>
              </div>
              <div class="row mx-auto d-flex justify-content-center">
                <div class="col-12 smBgTc">
                  Today's
                </div>
                <div class="col-12 smTxtm">
                  +{{todayDeath}}
                </div>
              </div>
            </div>
          </div>
        </div>



      </div>
    </div>

    <!-- <div class="col">
        <div class="card text-center w-100">
          <div class="card-header bg-info border-0 pb-0">
            <span class="cdHd">
              <i class="fa fa-users fa-2x"></i><br/>
              Confirmed
            </span>
          </div>
          <div class="card-body d-flex bg-info justify-content-center p-1">
            <span class="cdBdC">
              {{totalConfirmed}}
            </span>
          </div>
          <div class="card-footer bg-secondary-info p-1">
            <div class="row mx-auto d-flex justify-content-center">
              <span class="ftTxt">
                Today's Confirmed
              </span>
            </div>
            <div class="row mx-auto d-flex justify-content-center">
              <span class="cdBdC-f">
                +{{todayConfirm}}
              </span>
            </div>
          </div>
        </div>
      </div> -->
    <!-- <div class="col">
        <div class="card text-center w-100">
          <div class="card-header bg-warning border-0 pb-0">
            <span class="cdHd">
                <i class="fa fa-user-md fa-2x"></i><br/>
              Active
            </span>
          </div>
          <div class="card-body bg-warning p-1">
            <span class="cdBdA">
              {{totalActive}}
            </span>
          </div>
          <div class="card-footer text-center bg-warning p-1">
            <div class="row mx-auto d-flex justify-content-center">
              <span class="ftTxt">
                Today's Active
              </span>
            </div>
            <div class="row mx-auto d-flex justify-content-center">
              <span class="cdBdC-f">
                +{{todayActive}}
              </span>
            </div>
          </div>
        </div>
      </div> -->
    <!-- <div class="col">
        <div class="card text-center w-100">
          <div class="card-header bg-success border-0 pb-0">
            <span class="cdHd">
                <i class="fa fa-user-o fa-2x"></i><br/>
              Recovered
            </span>
          </div>
          <div class="card-body bg-success p-1">
            <span class="cdBdR">
              {{totalRecovered}}
            </span>
          </div>
          <div class="card-footer text-center bg-success p-1">
            <div class="row mx-auto d-flex justify-content-center">
              <span class="ftTxt">
                Today's Recovered
              </span>
            </div>
            <div class="row mx-auto d-flex justify-content-center">
              <span class="cdBdC-f">
                +{{todayRecover}}
              </span>
            </div>
          </div>
        </div>
      </div> -->
    <!-- <div class="col">
        <div class="card  text-center w-100">
          <div class="card-header bg-danger border-0 pb-0">
            <span class="cdHd">
                <i class="fa fa-user-times fa-2x"></i><br/>
              Death
            </span>
          </div>
          <div class="card-body bg-danger p-1">
            <span class="cdBdD">
              {{totalDeath}}
            </span>
          </div>
          <div class="card-footer text-center bg-danger p-1">
            <div class="row mx-auto d-flex justify-content-center">
              <span class="ftTxt">
                Today's Death
              </span>
            </div>
            <div class="row mx-auto d-flex justify-content-center">
              <span class="cdBdC-f">
                +{{todayDeath}}
              </span>
            </div>
          </div>
        </div>
      </div> -->
  </div>

  <div class="row mx-auto w-100 my-2">
      <app-state-search class="w-100"></app-state-search>
    <!-- <div class="card w-100">
      <div class="card-header bg-secondary">
        <label class="text-light">Search State </label>
        <div class="input-group">
          <input type="text" class="form-control form-control-sm text-capitalize" placeholder="Search by State" #searchState
            aria-label="Search State" aria-describedby="basic-addon2">
          <div class="input-group-append">
            <button (click)="onKeySearch(searchState.value)" class="btn btn-sm btn-info"><i
                class="fa fa-search"></i></button>
            <button (click)="clearSearch()" class="btn btn-sm btn-danger" *ngIf="btnhd"><i
                class="fa fa-times"></i></button>
          </div>
        </div>
      </div>
      <div class="card-body px-1"  *ngIf = '!swtchView'>
        <div class="row mx-auto w-100 my-2">
          <div class="col-md-3 col-6 px-1"> 
            <div class="card-counter primary">
              <i class="fa fa-users"></i>
              <span class="count-numbers">{{srchCnf}}</span>
              <span class="count-name">Confirmed</span>
            </div>
          </div>
      
          <div class="col-md-3 col-6 px-1">
            <div class="card-counter success-ac">
              <i class="fa fa-user-o"></i>
              <span class="count-numbers">{{srchRcv}}</span>
              <span class="count-name">Recoverd</span>
            </div>
          </div>
      
          <div class="col-md-3 col-6 px-1">
            <div class="card-counter warning">
              <i class="fa fa-user"></i>
              <span class="count-numbers">{{srchAct}}</span>
              <span class="count-name">Active</span>
            </div>
          </div>
      
          <div class="col-md-3 col-6 px-1">
            <div class="card-counter danger-dt">
              <i class="fa fa-user-times"></i>
              <span class="count-numbers">{{srchDt}}</span>
              <span class="count-name">Death</span>
            </div>
          </div>

          <div class="col-12 col-md-12 d-flex justify-content-center my-2">
            <span class="alert alert-warning mb-0">Tested data last updated on {{agoUpdatedOn}} (i.e. {{updatedOn}}) </span>
          </div>

          <div class="col-md-3 col-6 px-1">
            <div class="card-counter info">
              <i class="fa fa-thermometer-half"></i>
              <span class="count-numbers">{{totaltested}}</span>
              <span class="count-name">Total Tested</span>
            </div>
          </div>

          <div class="col-md-3 col-6 px-1">
            <div class="card-counter alert">
              <i class="fa fa-user-secret"></i>
              <span class="count-numbers">{{unconfirmed}}</span>
              <span class="count-name">Unconfirmed Cases</span>
            </div>
          </div>
          <div class="col-md-3 col-6 px-1">
            <div class="card-counter danger">
              <i class="fa fa-plus-circle"></i>
              <span class="count-numbers">{{positive}}</span>
              <span class="count-name">Positive Cases</span>
            </div>
          </div>

          <div class="col-md-3 col-6 px-1">
            <div class="card-counter success">
              <i class="fa fa-minus-circle"></i>
              <span class="count-numbers">{{negative}}</span>
              <span class="count-name">Negetive cases</span>
            </div>
          </div>
        </div>

        <div class="row mx-auto w-100 my-2">
          <div class="col-12 col-sm-6 col-md-3 py-3" *ngFor="let stateWise of nwAr;let i=index">
            <div class="card">
              <div class="card-header bg-secondary text-white">
                {{stateWise.name}}
              </div>
              <div class="card-body crdHt p-0">
                <table class="table table-striped w-100">
                  <thead>
                    <tr>
                      <th scope="col">District</th>
                      <th scope="col">Confirmed</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor='let disData of stateWise.details'>
                      <td>
                        <span>
                          {{disData.name}}
                        </span>
                      </td>
                      <td>
                        <span>
                          {{disData.details.confirmed}}
                        </span>
                        <span class="badge badge-danger">
                          <i class="fa fa-arrow-up" *ngIf='disData.details.delta.confirmed > 0'>
                            {{disData.details.delta.confirmed}} New
                          </i>
                        </span>
                      </td>
                    </tr>
      
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div> -->
  </div>

  <div class="row mx-auto w-100 my-2" *ngIf = 'swtchView'>
    <div class="card w-100">
      <div class="card-header bg-secondary">
        <span class="text-light">All District Data</span>
      </div>
    </div>
    <div class="col-12 col-sm-6 col-md-3 py-3" *ngFor="let stateWise of stateDetailedList;let i=index">
      <div class="card">
        <div class="card-header bg-secondary text-white">
          {{stateWise.name}}
        </div>
        <div class="card-body crdHt p-0">
          <table class="table table-striped w-100">
            <thead>
              <tr>
                <th scope="col">District</th>
                <th scope="col">Confirmed</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor='let disData of stateWise.details'>
                <td>
                  <span>
                    {{disData.name}}
                  </span>
                </td>
                <td>
                  <span>
                    {{disData.details.confirmed}}
                  </span>
                  <span class="badge badge-danger">
                    <i class="fa fa-arrow-up" *ngIf='disData.details.delta.confirmed > 0'>
                      {{disData.details.delta.confirmed}} New
                    </i>
                  </span>
                </td>
              </tr>

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  
</div>